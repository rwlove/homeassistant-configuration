name: "Run Action"
on:
  push:
    branch:
      - master
  pull_request:
    branch:
      - master

jobs:
  check:
    name: Home Assistant Config Check
    runs-on: ubuntu-latest
    steps:
    - name: Checkout Home Assistant Configuration
      uses: actions/checkout@master
      with:
        path: config
    - name: Clone private secrets repository
      uses: actions/checkout@v2.3.1
      with:
        repository: rwlove/homeassistant-secrets
        token: ${{ secrets.GITHUBPAT }} # `GitHub_PAT` is a secret that contains your PAT
        path: secrets
    - name: Run Config Check
      uses: ludeeus/action-ha-config-check@master
      env:
        INPUT_CONFIG: /config
